{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Acer/PRAKTIKUM TEKWEB/PROYEK/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Acer/PRAKTIKUM TEKWEB/PROYEK/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Acer/PRAKTIKUM TEKWEB/PROYEK/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProduct=function AddProduct(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),preview=_useState6[0],setPreview=_useState6[1];var navigate=useNavigate();var loadImage=function loadImage(e){var image=e.target.files[0];setFile(image);setPreview(URL.createObjectURL(image));};var saveProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append(\"file\",file);formData.append(\"title\",title);_context.prev=4;_context.next=7;return axios.post(\"http://localhost:5000/products\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 7:navigate(\"/\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[4,10]]);}));return function saveProduct(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"columns is-centered mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"column is-half\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveProduct,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},placeholder:\"Product Name\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"div\",{className:\"file\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"file-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"file-input\",onChange:loadImage}),/*#__PURE__*/_jsx(\"span\",{className:\"file-cta\",children:/*#__PURE__*/_jsx(\"span\",{className:\"file-label\",children:\"Choose a file...\"})})]})})})]}),preview?/*#__PURE__*/_jsx(\"figure\",{className:\"image is-128x128\",children:/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview Image\"})}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"field\",children:/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"button\",{typr:\"submit\",className:\"button is-success\",children:\"Save\"})})})]})})});};export default AddProduct;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AddProduct","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","file","setFile","_useState5","_useState6","preview","setPreview","navigate","loadImage","e","image","target","files","URL","createObjectURL","saveProduct","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","formData","wrap","_callee$","_context","prev","next","preventDefault","FormData","append","post","headers","t0","console","log","stop","_x","apply","arguments","className","children","onSubmit","type","value","onChange","placeholder","src","alt","typr"],"sources":["C:/Users/Acer/PRAKTIKUM TEKWEB/PROYEK/frontend/src/components/AddProduct.js"],"sourcesContent":["import React, {useState} from 'react'\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst AddProduct = () => {\r\n    const [title, setTitle] = useState(\"\");\r\n    const [file, setFile] = useState(\"\");\r\n    const [preview, setPreview] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    const loadImage = (e) => {\r\n        const image = e.target.files[0];\r\n        setFile(image);\r\n        setPreview(URL.createObjectURL(image));\r\n    };\r\n\r\n    const saveProduct = async(e) =>{\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\"title\", title);\r\n        try {\r\n            await axios.post(\"http://localhost:5000/products\", formData, {\r\n                headers:{\r\n                    \"Content-Type\": \"multipart/form-data\"\r\n                }\r\n            }); \r\n            navigate(\"/\");\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n  return (\r\n    <div className=\"columns is-centered mt-5\">\r\n        <div className=\"column is-half\">\r\n            <form onSubmit={saveProduct}>\r\n                <div className=\"field\">\r\n                    <label className=\"label\">Product Name</label>\r\n                    <div className=\"control\">\r\n                        <input \r\n                        type=\"text\" \r\n                        className=\"input\" \r\n                        value={title}\r\n                        onChange={(e) => setTitle(e.target.value)}\r\n                        placeholder='Product Name'\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"field\">\r\n                    <label className=\"label\">Image</label>\r\n                    <div className=\"control\">\r\n                        <div className=\"file\">\r\n                            <label className=\"file-label\">\r\n                                <input type=\"file\" className='file-input' onChange={loadImage} />\r\n                                <span className='file-cta'>\r\n                                    <span className='file-label'>Choose a file...</span>\r\n                                </span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {preview ? (\r\n                    <figure className='image is-128x128'>\r\n                        <img src={preview} alt='Preview Image' />\r\n                    </figure>\r\n                ): (\r\n                    \"\"\r\n                )}\r\n\r\n                <div className=\"field\">\r\n                    <div className=\"control\">\r\n                        <button typr=\"submit\" className=\"button is-success\">Save</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddProduct\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}